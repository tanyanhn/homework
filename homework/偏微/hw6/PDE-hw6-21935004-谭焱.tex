\documentclass[a4paper]{book}
% chktex-file 
% chktex-file 3
\usepackage{geometry}
% make full use of A4 papers
\geometry{margin=1.5cm, vmargin={0pt,1cm}}
\setlength{\topmargin}{-1cm}
\setlength{\paperheight}{29.7cm}
\setlength{\textheight}{25.1cm}

% auto adjust the marginals
\usepackage{marginfix}

\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
% \usepackage{CJKutf8}   % for Chinese characters
\usepackage{ctex}
\usepackage{enumerate}
\usepackage{graphicx}  % for figures
\usepackage{layout}
\usepackage{multicol}  % multiple columns to reduce number of pages
\usepackage{mathrsfs}
\usepackage{fancyhdr}
\usepackage{subfigure}
\usepackage{tcolorbox}
\usepackage{tikz-cd}
\usepackage{listings}
\usepackage{xcolor} %代码高亮
\usepackage{braket}
% ------------------
% common commands %
% ------------------
% differentiation
\newcommand{\gen}[1]{\left\langle#1 \right\rangle}
\newcommand{\dif}{\mathrm{d}}
\newcommand{\difPx}[1]{\frac{\partial#1}{\partial x}}
\newcommand{\difPy}[1]{\frac{\partial#1}{\partial y}}
\newcommand{\Dim}{\mathrm{D}}
\newcommand{\avg}[1]{\left\langle#1 \right\rangle}
\newcommand{\sgn}{\mathrm{sgn}}
\newcommand{\Span}{\mathrm{span}}
\newcommand{\dom}{\mathrm{dom}}
\newcommand{\Arity}{\mathrm{arity}}
\newcommand{\Int}{\mathrm{Int}}
\newcommand{\Ext}{\mathrm{Ext}}
\newcommand{\Cl}{\mathrm{Cl}}
\newcommand{\Fr}{\mathrm{Fr}}
% group is generated by
\newcommand{\grb}[1]{\left\langle#1 \right\rangle}
% rank
\newcommand{\rank}{\mathrm{rank}}
\newcommand{\Iden}{\mathrm{Id}}

% this environment is for solutions of examples and exercises
\newenvironment{solution}%
{\noindent\textbf{Solution.}}%
{\qedhere}
% the following command is for disabling environments
% so that their contents do not show up in the pdf.
\makeatletter
\newcommand{\voidenvironment}[1]{%
  \expandafter\providecommand\csname env@#1@save@env\endcsname{}%
  \expandafter\providecommand\csname env@#1@process\endcsname{}%
  \@ifundefined{#1}{}{\RenewEnviron{#1}{}}%
}
\makeatother

% ---------------------------------------------
% commands specifically for complex analysis %
% ---------------------------------------------
% complex conjugate
\newcommand{\ccg}[1]{\overline{#1}}
% the imaginary unit
\newcommand{\ii}{\mathbf{i}}
% \newcommand{\ii}{\boldsymbol{i}}
% the real part
\newcommand{\Rez}{\mathrm{Re}\,}
% the imaginary part
\newcommand{\Imz}{\mathrm{Im}\,}
% punctured complex plane
\newcommand{\pcp}{\mathbb{C}^{\bullet}}
% the principle branch of the logarithm
\newcommand{\Log}{\mathrm{Log}}
% the principle value of a nonzero complex number
\newcommand{\Arg}{\mathrm{Arg}}
\newcommand{\Null}{\mathrm{null}}
\newcommand{\Range}{\mathrm{range}}
\newcommand{\Ker}{\mathrm{ker}}
\newcommand{\Iso}{\mathrm{Iso}}
\newcommand{\Aut}{\mathrm{Aut}}
\newcommand{\ord}{\mathrm{ord}}
\newcommand{\Res}{\mathrm{Res}}
% \newcommand{\GL2R}{\mathrm{GL}(2,\mathbb{R})}
\newcommand{\GL}{\mathrm{GL}}
\newcommand{\SL}{\mathrm{SL}}
\newcommand{\Dist}[2]{\left|{#1}-{#2}\right|}

\newcommand\tbbint{{-\mkern-16mu\int}}
\newcommand\tbint{{\mathchar'26 -\mkern-14mu\int}}
\newcommand\dbbint{{-\mkern-20mu\int}}
\newcommand\dbint{{\mathchar'26 -\mkern-26mu\int}}
\newcommand\bint{
  {\mathchoice{\dbint}{\tbint}{\tbint}{\tbint}}
}
\newcommand\bbint{
  {\mathchoice{\dbbint}{\tbbint}{\tbbint}{\tbbint}}
}





% ----------------------------------------
% theorem and theorem-like environments %
% ----------------------------------------
\numberwithin{equation}{chapter}
\theoremstyle{definition}

\newtheorem{thm}{Theorem}[chapter]
\newtheorem{axm}[thm]{Axiom}
\newtheorem{alg}[thm]{Algorithm}
\newtheorem{asm}[thm]{Assumption}
\newtheorem{defn}[thm]{Definition}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{rul}[thm]{Rule}
\newtheorem{coro}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{exm}{Example}[chapter]
\newtheorem{rem}{Remark}[chapter]
\newtheorem{exc}[exm]{Exercise}
\newtheorem{frm}[thm]{Formula}
\newtheorem{ntn}{Notation}

% for complying with the convention in the textbook
\newtheorem{rmk}[thm]{Remark}


% \lstset{
%	backgroundcolor=\color{red!50!green!50!blue!50},%代码块背景色为浅灰色
%	rulesepcolor= \color{gray}, %代码块边框颜色
%	breaklines=true,  %代码过长则换行
%	numbers=left, %行号在左侧显示
%	numberstyle= \small,%行号字体
%	keywordstyle= \color{blue},%关键字颜色
%	commentstyle=\color{gray}, %注释颜色
%	frame=shadowbox%用方框框住代码块
% }
\lstset{
  columns=fixed,
  numbers=left,                                        % 在左侧显示行号
  numberstyle=\tiny\color{gray},                       % 设定行号格式
  frame=none,                                          % 不显示背景边框
  backgroundcolor=\color[RGB]{245,245,244},            % 设定背景颜色
  keywordstyle=\color[RGB]{40,40,255},                 % 设定关键字颜色
  numberstyle=\footnotesize\color{darkgray},
  commentstyle=\it\color[RGB]{0,96,96},                % 设置代码注释的格式
  stringstyle=\rmfamily\slshape\color[RGB]{128,0,0},   % 设置字符串格式
  showstringspaces=false,                              % 不显示字符串中的空格
  language=c++,                                        % 设置语言
}

% ----------------------
% the end of preamble %
% ----------------------

\begin{document}
\pagestyle{empty}
\pagenumbering{roman}
% 
% \tableofcontents
% \clearpage

% \pagestyle{fancy}
% \fancyhead{}
% \lhead{Qinghai Zhang}
% \chead{Notes on Algebraic Topology}
% \rhead{Fall 2018}


\setcounter{chapter}{5}
\pagenumbering{arabic}
% \setcounter{page}{0}

% --------------------------------------------------------
% uncomment the following to remove these environments
% to generate handouts for students.
% --------------------------------------------------------
% \begingroup
% \voidenvironment{rem}%
% \voidenvironment{proof}%
% \voidenvironment{solution}%


% each chapter is factored into a separate file.

\chapter{Homework 21935004 谭焱}
% \begin{lstlisting}
%   int main(){
%   double d;
%   int i;
%   return i;
% }
% \end{lstlisting}
% The main ingredients of snacks are sugar and fat;
% the main ingredients of math are logic and set theory.


%\begin{multicols}{2}
% \setlength{\columnseprule}{0.2pt}

\begin{exc}
  2.  Compute the envelopes of the family of lines
  \begin{equation}
    \label{eq:6:1:1}
    x_1 + a^2 x_2 - 2a = 0 \qquad (a \in \mathbb{R})
  \end{equation}
  in $\mathbb{R}^2$ and of the family of planes
  \begin{equation}
    \label{eq:6:1:2}
    2 a_1 x_1 + 2 a_2 x_x - x_3 + a_1^2 + a_2^2 = 0 \qquad (a_1, a_2 \in \mathbb{R})
  \end{equation}
  in $\mathbb{R}^3$. Draw pictures illustrating the geometric meaning of the enveplopes.
\end{exc}

\begin{solution}
  Let $u(x,a) = x_1 + a^2 x_2 - 2a $, from definition of envelopes
  \begin{align*}
    &D_a u = 2 a x_2 - 2 = 0 \Longrightarrow \\
    &a = \frac{1}{x_2}.
  \end{align*}
  So envelopes is $x_1 - \frac{1}{x_2} = 0$.

  Similarly,
  \begin{align*}
    &2 x_1 + 2 a_1 = 0 \Longrightarrow a_1 = - x_1 \\
    &2 x_2 + 2 a_2 = 0 \Longrightarrow a_2 = - x_2 \\
    &\Longrightarrow \mathbf{a} = - \mathbf{x}
  \end{align*}
  So envelopes is $ x_1^2 + x_2^2 - x_3 = 0$.

  Above envelopes in $\mathbb{R}^2$ ploted blow
  \begin{figure}
    \centering
    \includegraphics[scale = 0.2]{2.png}
    \caption{envelopes}\label{fig:6:1:1}
  \end{figure}
  envelopes is all point \textit{x} satisfy that exist a line \textit{u} in the family such that $u(x) = 0$. 
\end{solution}


\begin{exc}
  4.  
  \begin{enumerate} [(a)]
  \item  Write down the characteristic equations for the PDE
    \begin{equation} \nonumber
      u_t + b \cdot Du = f \qquad \textmd{in } \mathbb{R}^n \times (0, \infty), \leqno(*)
    \end{equation}
    where $b \in \mathbb{R}^n, f = f(x,t)$.

  \item Use the characteristic ODE to solve $(*)$ subject to the initial condition
    \begin{equation}
      \label{eq:6:3:1}
      u = g \qquad \textmd{on } \mathbb{R}^n \times \{t = 0\}.
    \end{equation}
    Make sure your answer agrees with formula (5) in 2.1.2.
  \end{enumerate}
\end{exc}

\begin{solution}
  \begin{enumerate}[(a)]
  \item Transfer (*) to $\mathbf{F}(\mathbf{p}(s),z(s),\mathbf{x}(s)) = (b,1)\cdot\mathbf{p}(s) - f(\mathbf{x}) = 0 $, then
    \begin{align*}
      &\dot{\mathbf{p}}(s) = - (D_x f(\mathbf{x},t) + D_t f(\mathbf{x},t)) \\
      &\dot{z}(s) = (b,1) \cdot \mathbf{p}(s) \\
      &\dot{\mathbf{x}}(s) = (b,1) \\
    \end{align*}

  \item Solving second and third of the equations get
    \begin{align*}
      &\mathbf{x}(s) = (bs,s) + (x_0,0) \\
      &\dot{z}(s) = f(\mathbf{x}) \Longrightarrow \\
      &z(s) = \int_0^t f((bs + x_0,s))ds + g(x_0) \\
     % &z(s) = \int_0^t f((x + (s -t)b, s))ds + g(x_0)
    \end{align*}
    Since $\mathbf{x}(s) = (bs,s) + (x_0,0)$, eliminating the $x_0$ in last equaltion get the formula (5). 
  \end{enumerate}
\end{solution}

\begin{exc}
  5.  Solve using characteristic:
  \begin{enumerate} [(a)]
  \item
    \begin{equation}
      \label{eq:6:4:1}
      x_1 u_{x_1} + 2 x_2 u_{x_2} + u_{x_3} = 3u, \qquad u(x_1, x_2, 0) = g(x_1, x_2).
    \end{equation}

    \item
      \begin{equation}
        \label{eq:6:4:2}
        u u_{x_1} + u_{x_2} = 1, \qquad u(x_1, x_1) = \frac{1}{2} x_1.
      \end{equation}

  \end{enumerate}
\end{exc}

\begin{solution}
  \begin{enumerate} [(a)]
  \item Writing characterstic equations as follow
    \begin{align*}
      &F(\mathbf{p}(s), z(s), \mathbf{x}(s)) = (x_1,2x_2,1) \cdot \mathbf{p}(s) - 3 z(s) = 0 \\
     % &\dot{\mathbf{p}}(s) = - 3 \mathbf{p}(s) \\
      &\dot{z}(s) = 3 z(s) \\
      &\dot{\mathbf{x}}(s) = (x_1, 2 x_2, 1) 
    \end{align*}
    Solving equations get $\mathbf{x}(s) = (x^0_1e^{s},x^0_2e^{2s},s), z(s) = z^0 e^{3s}$, eliminating $x^0_1,x^0_2,z^0$ to obtain $u(x_1,x_2,x_3) = g(\frac{x_1}{e^{x_3}}, \frac{x_2}{e^{x_3}}) e^{3s}$.

    \item
      \begin{align*}
        &F(\mathbf{p}(s), z(s), \mathbf{x}(s)) = (z(s),1) \cdot \mathbf{p}(s) - 1 = 0 \\
       % &\dot{\mathbf{p}}(s) = (z(s),1) \\
        &\dot{z}(s) = 1 \\
        &\dot{\mathbf{x}}(s) = (z(s),1).
      \end{align*}
      Solving equations get $z(s) = s + z_0, \mathbf{x}(s) = (\frac{1}{2}s^2 + z_0 s + x^0_1, s + x^0_2)$. By $u(x_1,x_1) = \frac{1}{2}x_1 \Longrightarrow z_0 = \frac{1}{2}x^0_1 = \frac{1}{2}x^0_2$, eliminating $z_0,x^0_1,x^0_2$ obtain $u(x_1,x_2) = \frac{1}{2}x_2 + \frac{x_2 - x_1}{2 - x_2}$.
  \end{enumerate}
\end{solution}

\begin{exc}
  6.  Given a smooth vector field \textbf{b} on $\mathbb{R}^n$, let $\mathbf{x}(s) = \mathbf{x}(s,x,t)$ solve the ODE
  \begin{eqnarray} \nonumber
    \begin{cases}
      \dot{\mathbf{x}} = \mathbf{b}(x) \qquad (s \in \mathbb{R}) \\
      \mathbf{x}(t) = x.
    \end{cases}
  \end{eqnarray}
  \begin{enumerate}[(a)]
  \item Define the Jacobian
    \begin{equation}
      \label{eq:6:5:1}
      J(s,x,t) := \det D_x\mathbf{x}(s,x,t)
    \end{equation}
    and derive \textit{Euler's formula}:
    \begin{equation}
      \label{eq:6:5:2}
      J_s = \textmd{div}\, \mathbf{b(x)}J.
    \end{equation}

  \item Demonstrate that
    \begin{equation}
      \label{eq:6:5:3}
      u(x,t) := g(\mathbf{x}(0,x,t))J(0,x,t)
    \end{equation}
    solves
    \begin{eqnarray}
      \label{eq:6:5:4}
      \begin{cases}
        \begin{aligned}
        u_t + \textmd{div}\,(u\mathbf{b}) &= 0 \qquad \textmd{in } \mathbb{R}^n \times (0,\infty) \\
        u &= g \qquad \textmd{on } \mathbb{R}^n \times \{t = 0\},
        \end{aligned}
      \end{cases}
    \end{eqnarray}
    (Hint: Show $\frac{\partial}{\partial s}(u(\mathbf{x},s)J) = 0$.)
  \end{enumerate}
\end{exc}

\begin{solution}
  \begin{enumerate} [(a)]
  \item Unfold $J$ and differential $J$
    \begin{align*}
      J(s,x,t) &= \sum \prod_{i = 1}^n (-1)^{\sigma} x^i_{\sigma(i)} \\
      J_s &= \sum \sum_{j = 1}^n (\prod_{i \neq j} (-1)^{\sigma} x^i_{\sigma(i)}) x^j_{\sigma(j) s}  \\
               &= \sum \sum _{j = 1}^n (\prod_{i=1}^n (-1)^{\sigma} x^i_{\sigma(i)}) (\mathbf{b}^j(x)(s -t) + x)_{\sigma(j)s} \\
               &=  \sum \sum _{j = 1}^n (\prod_{i=1}^n (-1)^{\sigma} x^i_{\sigma(i)}) \mathbf{b}^j_j(x)x^j_{\sigma(j)}  \\
      &= \textmd{div}\, \mathbf{b}(x)J.
    \end{align*}

  \item Boundary condition is obvious, since $J(0,x,0) = \det D_x x(0,x,0) = \det D_x x = 1 \textmd{ and } x(0,x,0) = x$.And $g(\mathbf{x}) J$ means that transfer coordinate$\mathbf{x}(s,x,t)$ to $\mathbf{x}$. So it value $u(x,t)$ won't change while $\mathbf{x}$ is constant.It follows that $0 = \frac{\partial}{\partial s}(u(\mathcal{x},s)J) = u_t(x,s)J + u(x,s)J_s = u_t(x,s)J + u(x,s)\textmd{div}\, (\mathbf{b}J) = (u_t + \textmd{div}\, (u\mathbf{b}))J = 0$.We know that $J$ won't be zero when $t = s$, therefore (\ref{eq:6:5:4}) is solved by $u(x,t)$.
  \end{enumerate}
\end{solution}

\begin{exc}
  8.  Confirm that the formula $u = g(x - t \mathbf{F}^\prime (u))$ from 3.2.5 provides an implicit solution for the conservation law
  \begin{equation}
    \label{eq:6:6:1}
    u_t + \mathbf{F}(u)_x = 0.
  \end{equation}
\end{exc}

\begin{solution}
  The initial condition is trival, then confirm the function
  \begin{align*}
    &u_t + \mathbf{F}(u)_x = 0 \Longleftrightarrow \\
    &u_t = D g \cdot (x - t\mathbf{F}^\prime(u))(- \mathbf{F}^\prime(u) - t \mathbf{F}^{\prime \prime}(u) u_t) \textmd{ While } 1 + t \mathbf{F}^{\prime \prime}(u) \neq 0 \\
    &u_t = - \frac{D g \cdot \mathbf{F}^\prime(u)}{1 + D g \cdot t \mathbf{F}^{\prime \prime}(u)} \\
    &\mathbf{F}(u)_x = D \mathbf{F}(u) = \mathbf{F}^\prime(u) \cdot D u \\
    &\frac{\partial}{\partial x_i} u = \frac{\partial}{\partial x_i} g(x - t \mathbf{F}^\prime (u)) \\
    &\qquad \; = g_{x_i} (1 - t \mathbf{F}^{\prime \prime}(u) \cdot u_{x_i}) \textmd{ need the same requirement above so that } \\
    &D u = \frac{D g}{1 + t \mathbf{F}^{\prime \prime}(u)} \\
    &u_t - \mathbf{F}^\prime(u) \cdot D u = 0
  \end{align*}
\end{solution}




  % \section{1}
  % \label{sec:logic}
  % \input{sec/logic.tex}

  % \section{Ordered sets}
  % \label{sec:sets}
  % \input{sec/orderedSets.tex}

  % \section{Linear algebra}
  % \label{sec:line-algebra}
  % \input{sec/linearAlgebra.tex}


%\end{multicols}


\end{document}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

% LocalWords:  FPN underflows denormalized FPNs matlab eps IEEE iff
% LocalWords:  cardinality significand quadratically bijection unary
% LocalWords:  contractive bijective postcondition invertible arity
% LocalWords:  subspaces surjective injective monomials additivity
% LocalWords:  nullary Abelian abelian finitary eigenvectors adjoint
% LocalWords:  eigenvector nullspace Hermitian unitarily multiset
% LocalWords:  nonsingular nonconstant homomorphism homomorphisms
% LocalWords:  isomorphically indeterminates subfield isomorphism
% LocalWords:  nondefective diagonalizable contrapositive cofactor
% LocalWords:  submatrix nilpotent positivity orthonormal extremum
% LocalWords:  Jacobian nonsquare semidefinite nonnegative RHS LLS
% LocalWords:  roundoff closedness

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
